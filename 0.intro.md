# intro

## 1. motivation

Why do we need p2p

### 1.1 centralised approach

This section outlines the centralised approach and discusses some disadvantages.

#### overview

The current server/client approach outsources all state management to a centralised server.

The client can make requests to servers in order to either fetch or mutate the state.

Data is stored server side and _served_ to the client on demand.

#### shortcomings

1. Data Privacy / Sovereignty

By design, the server owns all data and observes all transactions

How can we enforce our privacy to be respected?

What happens when you want to export you instagram posts.. Do they allow that? Does twitter let you migrate you profile to another platform?

2. Security / Reliability

The server controls state for all clients. Therefore, it is a single point of failure and an obvious target for attackers:

Compromise the server and you compromise the entire system.

Even in non-malicious settings, this is a risk. eg:

Forget to pay AWS bill and a whole site can be lost.

Whatsapp outages, technical error and billions left stranded without communication

3. Scalability

In a centralised model, the operational costs fall on the server.

Some sites may manage state for over 1 billion users. Even if each individual user only imposes a small footprint, the resource demand for managing the entire site quickly ramps up.

Need to build massvie data centers. Incredibly resource intensive. Meanwhile the user's laptop/PC is over powered and under used.

We are wasting compute!

#### why is it this way?

*manifesto time*

As the internet first grew, compute, storage and bandwidth were all limited and expensive.

Consumer PCs and modems simply weren't able operate on the scale of the web. Centralisation was a convenient solution to provide high-compute services to low-resource clients.

Indexing services (eg. google), shopping services (eg. amazon) offer the client access to a "global" view of the web.

But it's expensive to run these services, they have to make money somehow right? Enter advertising.

The more data you have the more accurate the advertising can be. Digital advertising sets the incentive for centralisation: the larger and more unique your dataset, the more revenue you can earn.

Now we exist in a highly competitive market, with users and user data as the commodity. Existing institutions simply cannot sacrifice their edge (for obligations to their shareholders).

The system is self-perpetuating.

### 1.2 decentralised approach

Enter decentralisation. Now we exist in an age where a $500 laptop is easily powerful enough to run a small website.

In a decentralised context, we let each user manage and store their own state. The operational costs are assumed by the user. 

#### how does it overcome the disadvantages

1. Data Privacy / Sovereignty

Easy. Users own their data and store it themselves. Sure, the data will at some point be shared with other parties, but the user controls exactly which parties.

No need to export your data from the service, it already exists on your harddrive and you are free to do with it as you please.

2. Security / Reliability

The system is comprised of a collection of users, all collectively managing the state of the system. If an attacker compromises one user, the rest of the system is still untouched.

The system can be designed to recover. Think of the 51% attack in bitcoin...

3. Scalability

Since the state and it's managed are decentralised, there is no need for one party to maintain the global state.

The system is naturally "sharded": the set of users concerned with one part of the system do not necessarily have to interact with any other part of the system.

Scaling can happen naturally and (potentially) infinitely, since the entire network is in fact better thought of as many smaller networks composed together.

#### whats possible

1. Offline apps

Because you own and operate your own state, you can have an app exeperince that is avaialble to you even when you are offline.

Make local changes to your view of the state and then they can be synced to the rest of the network when you later come online.

2. Unlimited resources

eg. Keet - want to send a 2TB file? No problem!

3. Lots more!

#### (whats not possible?)

(maybe present overview of challenges)

## 2. p2p technology

Ok I'm sold, so how do we implement this?? In this section we breakdown the components of a p2p system.

### 2.1 breakdown of the stack

1. Networking

Current internet infrastructure is geared up for client/server connections.

We need direct connections between end users.

2. Discovery

Before we can connect to a peer, we first need to be able to find them!

Decentralised equivalent of DNS.

3. Data Structures

Conventional data structures will often fail in a p2p setting.

Consider a shared text file: alice writes some text to it and bob writes some text to it. When they sync, how does each party know how to resolve the two conflicting files?

In a conventional web setting, developers rely on a suite of tools (databases, CDN etc.) all backed by data structures that may be stored to disk.

In a p2p context, we need efficient data structures that can be distributed between users in a way where a single user only needs a portion of this data to function properly (in practice, we would like this portion to be as small as possible)

## 3. examples

Let's see some real world examples where p2p tech is flourishing and analyze the advantages.

### 3.1 bitcoin

Which problems do we solve:

1. Decentralized

Node operators are fungible.

Their operation is governed by a simple financial incentive (mining rewards and fees).

Even if 1 miner is compromised, the network is able to continue functioning correctly.

A successful attack would require 51% of all the hash power in the network to be compromised at the same time by a single party.

These nodes might be operating on different hardware, on different networks and located all over the world. A significantly bigger target than hacking a single server.

Furthermore, even if all the miners today went offline, it would be possible for an entirely new set of miners to resume operating the chain.

Compare this to a bank, if your current bank goes offline, you cannot simply move all your money to a different bank instead and use that.

2. Trustless

In conventional finance, banks operate as mediators of trust. We are able to transact with other users whom we do not know and banks assume the risk.

In Bitcoin, all transaction data is available to any user. This allows clients to validate and verify their blockchain transactions themselves.

Bob is able to see exactly when Alice has paid them.

3. Sovereignty

In bitcoin, your funds are exclusively yours. Without your private keys, noone is able to move your money. Your private keys can be backed up, stored and accessed on any device you wish.

Noone else has the power to move your funds other than you.

### 3.2 BitTorrent

BitTorrent is a trustless p2p file sharing protocol.

1. Censorship Resistance

Unlike with centralised file sharing platforms, with BitTorrent there is no central fileserver to shut down.

Very difficult to suppress a document that has been distributed via BitTorrent, as long as 1 peer exists with a copy of the data, the file is accessible to all.

2. Trustless

BitTorrent uses cryptographic hashes for data authentication. The trick is that each file is identified by a fingerprint.

Before requesting a file, I need to know it's fingerprint. After downloading the file, I'm able to verify the file against it's fingerprint.

This means I don't have to trust whomever I download the file from, I only have to trust the fingerprint.

### 3.3 hypercore

The Hypercore ecosystem provides a set of p2p modules that satisfy all the points above.

The Hypercore stack decentralizes the entire life cycle of state management: from the networking up to the data structures.

By analogy, Hypercore does for data what Bitcoin does for money: fully trustless, decentralised state management.

Want to find out how? Great! Stay tuned for the tomorrow's session!
