# intro

## 1. motivation

why do we need p2p

### 1.1 centralised approach

This section outlines the centralised approach and discusses some disadvantages.

#### overview

The current server/client approach outsources all state management to a centralised server.

The client can make requests to servers in order to either fetch or mutate the state.

Data is stored server side and _served_ to the client on demand.

#### shortcomings

1. Data Privacy / Sovereignty

By design, the server owns all data and observes all transactions

How can we enforce our privacy to be respected?

What happens when you want to export you instagram posts.. Do they allow that? Does twitter let you migrate you profile to another platform?

2. Security / Reliability

The server controls state for all clients. Therefore, it is a single point of failure and an obvious target for attackers:

Compromise the server and you compromise the entire system.

Even in non-malicious settings, this is a risk. eg:

Forget to pay AWS bill and a whole site can be lost.

Whatsapp outages, technical error and billions left stranded without communication

3. Scalability

In a centralised model, the operational costs fall on the server.

Some sites may manage state for over 1 billion users. Even if each individual user only imposes a small footprint, the resource demand for managing the entire site quickly ramps up.

Need to build massvie data centers. Incredibly resource intensive. Meanwhile the user's laptop/PC is over powered and under used.

We are wasting compute!

#### why is it this way?

*manifesto time*

As the internet first grew, compute, storage and bandwidth were all limited and expensive.

Consumer PCs and modems simply weren't able operate on the scale of the web. Centralisation was a convenient solution to provide high-compute services to low-resource clients.

Indexing services (eg. google), shopping services (eg. amazon) offer the client access to a "global" view of the web.

But it's expensive to run these services, they have to make money somehow right? Enter advertising.

The more data you have the more accurate the advertising can be. Digital advertising sets the incentive for centralisation: the larger and more unique your dataset, the more revenue you can earn.

Now we exist in a highly competitive market, with users and user data as the commodity. Existing institutions simply cannot sacrifice their edge (for obligations to their shareholders).

The system is self-perpetuating.

### 1.2 decentralised approach

Enter decentralisation. Now we exist in an age where a $500 laptop is easily powerful enough to run a small website.

In a decentralised context, we let each user manage and store their own state. The operational costs are assumed by the user. 

#### how does it overcome the disadvantages

1. Data Privacy / Sovereignty

Easy. Users own their data and store it themselves. Sure, the data will at some point be shared with other parties, but the user controls exactly which parties.

No need to export your data from the service, it already exists on your harddrive and you are free to do with it as you please.

2. Security / Reliability

The system is comprised of a collection of users, all collectively managing the state of the system. If an attacker compromises one user, the rest of the system is still untouched.

The system can be designed to recover. Think of the 51% attack in bitcoin...

3. Scalability

Since the state and it's managed are decentralised, there is no need for one party to maintain the global state.

The system is naturally "sharded": the set of users concerned with one part of the system do not necessarily have to interact with any other part of the system.

Scaling can happen naturally and (potentially) infinitely, since the entire network is in fact better thought of as many smaller networks composed together.

#### whats possible

1. Offline apps

Because you own and operate your own state, you can have an app exeperince that is avaialble to you even when you are offline.

Make local changes to your view of the state and then they can be synced to the rest of the network when you later come online.

2. Unlimited resources

eg. Keet - want to send a 2TB file? No problem!

3. Lots more!

#### (whats not possible?)

(maybe present overview of challenges)

## 2. p2p technology

Ok I'm sold, so how do we implement this?? In this section we breakdown the components of a p2p system.

### 2.1 breakdown of the stack

1. Networking

Current internet infrastructure is geared up for client/server connections.

We need direct connections between end users.

2. Discovery

Before we can connect to a peer, we first need to be able to find them!

Decentralised equivalent of DNS.

3. Data Structures

Conventional data structures will often fail in a p2p setting.

Consider a shared text file: alice writes some text to it and bob writes some text to it. When they sync, how does each party know how to resolve the two conflicting files?

In a conventional web setting, developers rely on a suite of tools (databases, CDN etc.) all backed by data

## 3. examples

where can we see this in practice

### 3.1 bitcoin

how does bitcoin go about p2p

### 3.1 hypercore

how does hypercore go about p2p
